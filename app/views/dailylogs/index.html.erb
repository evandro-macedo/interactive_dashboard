<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
  <h1 class="h3 mb-0 text-gray-800">Daily Logs - Data Lake</h1>
  <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">
    <i class="fas fa-download fa-sm text-white-50"></i> Export Data
  </a>
</div>

<% if flash[:alert] %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%= flash[:alert] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<% if @dailylogs.any? %>
  <!-- DataTales Card -->
  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h6 class="m-0 font-weight-bold text-primary">
        Data Lake Records
      </h6>
      <div class="text-muted">
        Showing <strong><%= @dailylogs.offset_value + 1 %></strong> to
        <strong><%= [@dailylogs.offset_value + @dailylogs.length, @dailylogs.total_count].min %></strong> of
        <strong><%= number_with_delimiter(@dailylogs.total_count) %></strong> records
      </div>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <% @dailylogs.first.attributes.keys.each do |column| %>
                <th><%= column.titleize %></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% @dailylogs.each do |log| %>
              <tr>
                <% log.attributes.each do |key, value| %>
                  <td><%= value.to_s.truncate(100) %></td>
                <% end %>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <div class="d-flex justify-content-center mt-3">
        <%= paginate @dailylogs %>
      </div>
    </div>
  </div>
<% else %>
  <div class="card shadow mb-4">
    <div class="card-body">
      <div class="alert alert-warning mb-0" role="alert">
        <i class="fas fa-exclamation-triangle"></i> No records found in the dailylogs table.
      </div>
    </div>
  </div>
<% end %>
