<%# Logic Layer Consistency: Same conditional rendering everywhere %>
<% if dailylogs.any? %>
  <div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h6 class="m-0 font-weight-bold text-primary">
        Data Lake Records
      </h6>
      <div class="text-muted">
        Showing <strong><%= dailylogs.offset_value + 1 %></strong> to
        <strong><%= [dailylogs.offset_value + dailylogs.length, dailylogs.total_count].min %></strong> of
        <strong><%= number_with_delimiter(dailylogs.total_count) %></strong> records
      </div>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered" width="100%" cellspacing="0">
          <thead>
            <tr>
              <% dailylogs.first.attributes.keys.each do |column| %>
                <th><%= column.titleize %></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% dailylogs.each do |log| %>
              <tr>
                <% log.attributes.each do |key, value| %>
                  <td><%= value.to_s.truncate(100) %></td>
                <% end %>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <div class="d-flex justify-content-center mt-3">
        <%# Preserve search query and column selection in pagination links %>
        <%= paginate dailylogs, params: { q: params[:q], column: params[:column] } %>
      </div>
    </div>
  </div>
<% else %>
  <div class="card shadow mb-4">
    <div class="card-body">
      <div class="alert alert-warning mb-0" role="alert">
        <i class="fas fa-exclamation-triangle"></i>
        No records found
        <% if params[:q].present? %>
          matching "<strong><%= params[:q] %></strong>"
        <% end %>
      </div>
    </div>
  </div>
<% end %>
