<%# Combined partial: Active filters + Table for FMEA
    This ensures both are updated together via Turbo Frame
    Params:
    - dailylogs_fmea: Array of DailylogFmea records
    - active_fmea_filters: Hash of active filters
    - fmea_offset: Current offset
    - per_page: Records per page
    - has_more_fmea: Boolean indicating if more records exist
%>

<!-- Active Filters Pills -->
<% if active_fmea_filters.present? %>
  <div class="card shadow mb-3">
    <div class="card-body">
      <div class="d-flex flex-wrap align-items-center">
        <strong class="me-2">Active Filters:</strong>
        <% active_fmea_filters.each do |column, value| %>
          <%= render "filter_pill", column: column, value: value, table: 'fmea' %>
        <% end %>
        <%= link_to "Clear All", dailylogs_path, class: "btn btn-sm btn-outline-danger", data: { turbo_frame: "dailylogs_fmea_table" } %>
      </div>
    </div>
  </div>
<% end %>

<!-- Data Table -->
<%= render "table_fmea", dailylogs_fmea: dailylogs_fmea %>
